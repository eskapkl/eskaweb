<!DOCTYPE html>
<html>

<head>
  <title>Eska Pekalongan</title>
  <link rel="icon" href="./images/icon.ico">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
  <style>
    body,
    html {
      height: 100%;
      min-width: fit-content;
      margin: 0;
      padding: 0;
      font-family: "Inconsolata", sans-serif;
    }

    .bgimg {
      background-position: center;
      background-size: contain;
      background-image: url("./images/new_mainbg.png");
      min-height: 75%;
    }

    .grid-container {
      margin: 0 auto;
      display: grid;
      gap: 1rem;
      padding-top: 48px !important;
      padding-bottom: 48px !important;
      box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%);
      padding: 0.01em 16px;
      /* grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); */
    }

    @media (min-width: 300px) {
      .grid-container {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 900px) {
      .grid-container {
        grid-template-columns: repeat(3, 1fr);
      }
    }


    .image {
      border-radius: 10px 10px 0px 0px;
      max-height: 200px;
      min-height: 180px;
      object-fit: cover;
    }


    .menu {
      display: none;
    }

    .card {
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
      transition: 0.3s;
      border-radius: 10px;
    }

    .card:hover {
      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    }

    .container {
      padding: 2px 10px;
    }

    .no-margin {
      margin: 0px;
    }

    .top-navbar {
      top: 0;
      position: absolute;
      width: 100%;
      z-index: 1;
    }
  </style>
</head>

<body>

  <!-- Links (sit on top) -->
  <div class="top-navbar">
    <div class="w3-row w3-padding w3-black">
      <div class="w3-col s3">
        <a href="#" class="w3-button w3-block w3-black">HOME</a>
      </div>
      <div class="w3-col s3">
        <a href="#about" class="w3-button w3-block w3-black">ABOUT</a>
      </div>
      <div class="w3-col s3">
        <a href="#menu" class="w3-button w3-block w3-black">MENU</a>
      </div>
      <div class="w3-col s3">
        <a href="#where" class="w3-button w3-block w3-black">WHERE</a>
      </div>
    </div>
  </div>

  <!-- Header with image -->
  <header class="bgimg w3-display-container w3-grayscale-min" id="home">
    <!-- <div class="w3-display-bottomleft w3-center w3-padding-large w3-hide-small">
      <span class="w3-tag">Open from 6am to 5pm</span>
    </div> -->
    <div class="w3-display-middle w3-center">
      <span class="w3-text-white" style="font-size:70px">eSKa<br>Pekalongan</span>
    </div>
    <!-- <div class="w3-display-bottomright w3-center w3-padding-large">
      <span class="w3-tag">Pekalongan</span>
    </div> -->
  </header>

  <!-- Add a background color and large text to the whole page -->
  <div class="w3-sand w3-grayscale w3-large">

    <!-- About Container -->
    <div class="w3-container" id="about">
      <div class="w3-content" style="max-width:700px">
        <h5 class="w3-center w3-padding-64"><span class="w3-tag w3-wide">ABOUT THE CAFE</span></h5>
        <p>The Cafe was founded in blabla by Mr. Smith in lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
          do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
          exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p>In addition to our full espresso and brew bar menu, we serve fresh made-to-order breakfast and lunch
          sandwiches, as well as a selection of sides and salads and other good stuff.</p>
        <div class="w3-panel w3-leftbar w3-light-grey">
          <p><i>"Use products from nature for what it's worth - but never too early, nor too late." Fresh is the new
              sweet.</i></p>
          <p>Chef, Coffeeist and Owner: Liam Brown</p>
        </div>
        <img src="./images/coffeeshop.jpg" style="width:100%;max-width:1000px" class="w3-margin-top">
        <p><strong>Opening hours:</strong> everyday from 6am to 5pm.</p>
        <p><strong>Address:</strong> 15 Adr street, 5015, NY</p>
      </div>
    </div>

    <!-- Menu Container -->
    <div class="w3-container" id="menu">
      <div class="w3-content" style="max-width:700px">

        <h5 class="w3-center w3-padding-48"><span class="w3-tag w3-wide">THE MENU</span></h5>

        <div class="w3-row w3-center w3-card w3-padding">
          <a href="javascript:void(0)" onclick="openMenu(event, 'Eat');" id="myLink">
            <div class="w3-col s4 tablink" id="btnEat">Eat</div>
          </a>
          <a href="javascript:void(0)" onclick="openMenu(event, 'Drinks');">
            <div class="w3-col s4 tablink" id="btnDrinks">Drink</div>
          </a>
          <a href="javascript:void(0)" onclick="openMenu(event, 'Other');">
            <div class="w3-col s4 tablink" id="btnOther">Other</div>
          </a>
        </div>

        <div id="Eat" class="grid-container">

        </div>

        <div id="Drinks" class="grid-container">

        </div>

        <div id="Other" class="grid-container">

        </div>
        <!-- <div id="Other" class="w3-container menu w3-padding-48 w3-card">

        </div> -->

        <img src="./images/coffeehouse2.jpg" style="width:100%;max-width:1000px;margin-top:32px;">
      </div>
    </div>

    <!-- Contact/Area Container -->
    <div class="w3-container" id="where" style="padding-bottom:32px;">
      <div class="w3-content" style="max-width:700px">
        <h5 class="w3-center w3-padding-48"><span class="w3-tag w3-wide">WHERE TO FIND US</span></h5>
        <p>Find us at some address at some place.</p>
        <img src="./images/map.jpg" class="w3-image" style="width:100%">
        <p><span class="w3-tag">FYI!</span> We offer full-service catering for any event, large or small. We understand
          your needs and we will cater the food to satisfy the biggerst criteria of them all, both look and taste.</p>
        <p><strong>Reserve</strong> a table, ask for today's special or just send us a message:</p>
        <form action="/action_page.php" target="_blank">
          <p><input class="w3-input w3-padding-16 w3-border" type="text" placeholder="Name" required name="Name"></p>
          <p><input class="w3-input w3-padding-16 w3-border" type="number" placeholder="How many people" required
              name="People"></p>
          <p><input class="w3-input w3-padding-16 w3-border" type="datetime-local" placeholder="Date and time" required
              name="date" value="2020-11-16T20:00"></p>
          <p><input class="w3-input w3-padding-16 w3-border" type="text" placeholder="Message \ Special requirements"
              required name="Message"></p>
          <p><button class="w3-button w3-black" type="submit">SEND MESSAGE</button></p>
        </form>
      </div>
    </div>

    <!-- End page content -->
  </div>

  <!-- Footer -->
  <footer class="w3-center w3-light-grey w3-padding-48 w3-large">
    <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank"
        class="w3-hover-text-green">w3.css</a></p>
  </footer>

  <script>
    // Tabbed Menu
    let makananArr = []
    let minumanArr = []
    let otherArr = []
    let selectedArr = {}
    function openMenu(evt, menuName) {
      var x = ["Eat", "Drinks", "Other"]
      for (let i = 0; i < x.length; i++) {
        const e = x[i];
        if (e == menuName) {
          document.getElementById(e).style.display = "grid"
        } else {
          document.getElementById(e).style.display = "none"
        }
      }
      // var i, x, tablinks;
      // x = document.getElementsByClassName("menu");
      // for (i = 0; i < x.length; i++) {
      //   x[i].style.display = "none";
      // }
      tablinks = document.getElementsByClassName("tablink");
      for (i = 0; i < x.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" w3-dark-grey", "");
      }
      // document.getElementById(menuName).style.display = "block";
      evt.currentTarget.firstElementChild.className += " w3-dark-grey";
    }
    document.getElementById("myLink").click();
    function getData() {
      var query_params = new URLSearchParams({
        'limit': 100,
        'query_type': 'and',
      });
      // var url = 'https://sheet2api.com/v1/D3KTgqblROGg/daftar-menu/Sheet1?' + query_params;

      var url = "https://opensheet.elk.sh/1YpXy4geymZEGyEEJd5E21_JSr3u7V8Ovtg2qWaMvF2w/Sheet1"
      fetch(url)
        .then(response => response.json())
        .then(data => {
          console.log(data);
          let mainData = []
          mainData = data

          for (let i = 0; i < mainData.length; i++) {
            const e = mainData[i];
            if (e.Kategori == "Makanan") {
              makananArr.push(e)
            } else if (e.Kategori == "Minuman") {
              minumanArr.push(e)
            } else {
              otherArr.push(e)
            }
          }
          console.log(makananArr)
          console.log(minumanArr)
          console.log(otherArr)

          addElement("Eat", makananArr)
          addElement("Drinks", minumanArr)
          addElement("Other", otherArr)

        })
        .catch((error) => {
          console.error('Error:', error);
        });
    }
    function getIdFromUrl(url) {
      if (url) {
        return url.match(/[-\w]{25,}/);
      } else {
        return ""
      }
    }
    getData()
    function addElement(parentElement, arr) {
      for (let i = 0; i < arr.length; i++) {
        const e = arr[i];
        // <img src="./images/coffeeshop.jpg" style="width: -webkit-fill-available;" alt="">
        // <h5>Bread Basket</h5>
        // <p class="w3-text-grey">Assortment of fresh baked fruit breads and muffins 5.50</p><br>


        let id = getIdFromUrl(e.Gambar)

        const img = document.createElement("img");

        let inner = ""
        if (id) {
          // let usedUrl = "https://drive.google.com/uc?export=view&id=" + id
          // img.setAttribute("src", usedUrl);
          // img.className = "img-fluid tm-gallery-img";
          // img.style = "width: -webkit-fill-available;"
          id = "https://drive.google.com/uc?export=view&id=" + id
          inner = `<img class="image" src="${id}" alt="Avatar" style="width:100%"><div class="container"><h5 class="no-margin"><b>${e.Nama}</b></h5><p class="no-margin">${e.Deskripsi}</p><p class="no-margin">${e.Harga}</p></div>`
        } else {
          inner = `<img class="image" src="./images/default-image.png" alt="Avatar" style="width:100%"><div class="container"><h5 class="no-margin"><b>${e.Nama}</b></h5><p class="no-margin">${e.Deskripsi}</p><p class="no-margin">${e.Harga}</p></div>`
        }

        const divv = document.createElement("div");
        divv.className = "card";
        // name, desc, image, price

        divv.setAttribute("onclick", `openModal(${i}, '${String(parentElement)}')`)
        divv.innerHTML = inner;

        const elementmain = document.getElementById(parentElement);

        elementmain.appendChild(divv);
        // elementmain.appendChild(img);
        // elementmain.appendChild(hFive);
        // elementmain.appendChild(paraa);
        // elementmain.appendChild(price);
        // elementmain.appendChild(breaak);



        // const temp = '<div class="card"><img src="https://drive.google.com/uc?export=view&id=0B5KH7oZiLJzzZHBGN04xRlhpWTg" alt="Avatar" style="width:100%"><div class="container"><h4><b>John Doe</b></h4> <p>Architect & Engineer</p> </div></div>'
        // let x = `<div class="card"><img class="image" src="${}" alt="Avatar" style="width:100%"><div class="container"><h5 class="no-margin"><b>Nama Makanan</b></h5><p class="no-margin">Deskripsi Singkat</p><p class="no-margin">Rp 20.000</p></div></div>`


        // const artc = document.createElement("article");
        // artc.className = "col-lg-3 col-md-4 col-sm-6 col-12 tm-gallery-item";

        // const figu = document.createElement("figure");

        // const img = document.createElement("img");

        // let id = getIdFromUrl(e.Gambar)

        // let usedUrl = "https://drive.google.com/uc?export=view&id=" + id
        // img.setAttribute("src", usedUrl);
        // img.className = "img-fluid tm-gallery-img";

        // const figca = document.createElement("figcaption");

        // const hfour = document.createElement("h4");
        // hfour.className = "tm-gallery-title";
        // const textHFour = document.createTextNode(e.Nama ? e.Nama : "");
        // hfour.append(textHFour);

        // const para = document.createElement("p");
        // para.className = "tm-gallery-description"
        // const textPara = document.createTextNode(e.Deskripsi ? e.Deskripsi : "");
        // para.append(textPara);

        // const para2 = document.createElement("p");
        // para2.className = "tm-gallery-price"
        // const textPara2 = document.createTextNode(e.Harga ? e.Harga : "");
        // para2.append(textPara2);

        // figca.append(hfour);
        // figca.append(para);
        // figca.append(para2);

        // figu.append(img);
        // figu.append(figca);

        // artc.append(figu);

        // const element = document.getElementById(parentElement);
        // element.appendChild(artc);
      }
    }

    function openModal(i, parent) {
      console.log(i)
      console.log(parent)
      const s = parent == "Eat" ? makananArr : parent == "Drinks" ? minumanArr : otherArr
      selectedArr = s[i]
      console.log(selectedArr)
      // console.log(`${name} ${desc} ${image} ${price}`)
    }
  </script>

</body>

</html>