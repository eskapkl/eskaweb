<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>eSKa Pekalongan</title>
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400" rel="stylesheet" />
	<link href="css/templatemo-style.css" rel="stylesheet" />
</head>
<!--

Simple House

https://templatemo.com/tm-539-simple-house

-->

<body>
	<div class="container">
		<!-- Top box -->
		<!-- Logo & Site Name -->
		<div class="placeholder">
			<div class="parallax-window" data-parallax="scroll" data-image-src="img/simple-house-01.jpg">
				<div class="tm-header">
					<div class="row tm-header-inner">
						<div class="col-md-6 col-12">
							<img src="img/simple-house-logo.png" alt="Logo" class="tm-site-logo" />
							<div class="tm-site-text-box">
								<h1 class="tm-site-title">eSKa Pekalongan</h1>
								<h6 class="tm-site-description">Enak Hemat Bersahabat</h6>
							</div>
						</div>
						<nav class="col-md-6 col-12 tm-nav">
							<ul class="tm-nav-ul">
								<li class="tm-nav-li">
									<a href="index.html" class="tm-nav-link active">Menu</a>
								</li>
								<li class="tm-nav-li">
									<a href="about" class="tm-nav-link">About</a>
								</li>
								<li class="tm-nav-li">
									<a href="contact.html" class="tm-nav-link">Contact</a>
								</li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>

		<main>
			<header class="row tm-welcome-section">
				<h2 class="col-12 text-center tm-section-title">
					Welcome to Simple House
				</h2>
				<p class="col-12 text-center">
					Total 3 HTML pages are included in this template. Header image has a
					parallax effect. You can feel free to download, edit and use this
					TemplateMo layout for your commercial or non-commercial websites.
				</p>
			</header>

			<div class="tm-paging-links">
				<nav>
					<ul>
						<li class="tm-paging-item">
							<a href="#" class="tm-paging-link active">Makanan</a>
						</li>
						<li class="tm-paging-item">
							<a href="#" class="tm-paging-link">Minuman</a>
						</li>
						<li class="tm-paging-item">
							<a href="#" class="tm-paging-link">Lainnya</a>
						</li>
					</ul>
				</nav>
			</div>

			<!-- Gallery -->
			<div class="row tm-gallery">
				<!-- gallery page 1 -->
				<div id="tm-gallery-page-makanan" class="tm-gallery-page">
					<!-- <article class="col-lg-3 col-md-4 col-sm-6 col-12 tm-gallery-item">
						<figure>
							<img src="img/gallery/01.jpg" alt="Image" class="img-fluid tm-gallery-img" />
							<figcaption>
								<h4 class="tm-gallery-title">Fusce dictum finibus</h4>
								<p class="tm-gallery-description">
									Nam in suscipit nisi, sit amet consectetur metus. Ut sit
									amet tellus accumsan
								</p>
								<p class="tm-gallery-price">$45 / $55</p>
							</figcaption>
						</figure>
					</article>					 -->
				</div>
				<!-- gallery page 1 -->

				<!-- gallery page 2 -->
				<div id="tm-gallery-page-minuman" class="tm-gallery-page hidden">
					<!-- <article class="col-lg-3 col-md-4 col-sm-6 col-12 tm-gallery-item">
						<figure>
							<img src="img/gallery/04.jpg" alt="Image" class="img-fluid tm-gallery-img" />
							<figcaption>
								<h4 class="tm-gallery-title">Salad Menu One</h4>
								<p class="tm-gallery-description">
									Proin eu velit egestas, viverra sapien eget, consequat nunc.
									Vestibulum tristique
								</p>
								<p class="tm-gallery-price">$25</p>
							</figcaption>
						</figure>
					</article> -->
				</div>
				<!-- gallery page 2 -->

				<!-- gallery page 3 -->
				<div id="tm-gallery-page-lainnya" class="tm-gallery-page hidden">
					<!-- <article class="col-lg-3 col-md-4 col-sm-6 col-12 tm-gallery-item">
						<figure>
							<img src="img/gallery/08.jpg" alt="Image" class="img-fluid tm-gallery-img" />
							<figcaption>
								<h4 class="tm-gallery-title">Noodle One</h4>
								<p class="tm-gallery-description">
									Orci varius natoque penatibus et magnis dis parturient
									montes, nascetur ridiculus mus.
								</p>
								<p class="tm-gallery-price">$12.50</p>
							</figcaption>
						</figure>
					</article>					 -->
				</div>
				<!-- gallery page 3 -->
			</div>
			<div id="insertHere"></div>

			<div class="tm-section tm-container-inner">
				<div class="row">
					<div class="col-md-6">
						<figure class="tm-description-figure">
							<img src="img/img-01.jpg" alt="Image" class="img-fluid" />
						</figure>
					</div>
					<div class="col-md-6">
						<div class="tm-description-box">
							<h4 class="tm-gallery-title">Maecenas nulla neque</h4>
							<p class="tm-mb-45">
								Redistributing this template as a downloadable ZIP file on any
								template collection site is strictly prohibited. You will need
								to
								<a rel="nofollow" href="https://templatemo.com/contact">talk to us</a>
								for additional permissions about our templates. Thank you.
							</p>
							<a href="about.html" class="tm-btn tm-btn-default tm-right">Read More</a>
						</div>
					</div>
				</div>
			</div>
			<div id="div1"></div>
		</main>

		<footer class="tm-footer text-center">
			<p>
				Copyright &copy; 2020 Simple House | Design:
				<a rel="nofollow" href="https://templatemo.com">TemplateMo</a>
			</p>
		</footer>
	</div>
	<script src="js/jquery.min.js"></script>
	<script src="js/parallax.min.js"></script>
	<script>
		$(document).ready(function () {
			// Handle click on paging links
			$(".tm-paging-link").click(function (e) {
				e.preventDefault();

				var page = $(this).text().toLowerCase();
				$(".tm-gallery-page").addClass("hidden");
				$("#tm-gallery-page-" + page).removeClass("hidden");
				$(".tm-paging-link").removeClass("active");
				$(this).addClass("active");
			});
		});
		function getData() {
			var query_params = new URLSearchParams({
				'limit': 100,
				'query_type': 'and',
			});
			var url = 'https://sheet2api.com/v1/D3KTgqblROGg/daftar-menu/Sheet1?' + query_params;

			fetch(url)
				.then(response => response.json())
				.then(data => {
					console.log(data);
					let mainData = []
					mainData = data
					let makananArr = []
					let minumanArr = []
					let otherArr = []

					for (let i = 0; i < mainData.length; i++) {
						const e = mainData[i];
						if (e.Kategori == "Makanan"){
							makananArr.push(e)
						} else if (e.Kategori == "Minuman"){
							minumanArr.push(e)
						} else {
							otherArr.push(e)
						}
					}

					addElement("tm-gallery-page-makanan", makananArr)
					addElement("tm-gallery-page-minuman", minumanArr)
					addElement("tm-gallery-page-lainnya", otherArr)

				})
				.catch((error) => {
					console.error('Error:', error);
				});
		}

		getData()

		function getIdFromUrl(url) { return url.match(/[-\w]{25,}/); }

		function addElement(parentElement, arr) {
			for (let i = 0; i < arr.length; i++) {
				const e = arr[i];

				const artc = document.createElement("article");
				artc.className = "col-lg-3 col-md-4 col-sm-6 col-12 tm-gallery-item";

				const figu = document.createElement("figure");

				const img = document.createElement("img");

				let id = getIdFromUrl(e.Gambar)

				let usedUrl = "https://drive.google.com/uc?export=view&id=" + id
				img.setAttribute("src", usedUrl);
				img.className = "img-fluid tm-gallery-img";

				const figca = document.createElement("figcaption");

				const hfour = document.createElement("h4");
				hfour.className = "tm-gallery-title";
				const textHFour = document.createTextNode(e.Nama ? e.Nama : "");
				hfour.append(textHFour);

				const para = document.createElement("p");
				para.className = "tm-gallery-description"
				const textPara = document.createTextNode(e.Deskripsi ? e.Deskripsi : "");
				para.append(textPara);

				const para2 = document.createElement("p");
				para2.className = "tm-gallery-price"
				const textPara2 = document.createTextNode(e.Harga ? e.Harga : "");
				para2.append(textPara2);

				figca.append(hfour);
				figca.append(para);
				figca.append(para2);

				figu.append(img);
				figu.append(figca);

				artc.append(figu);

				const element = document.getElementById(parentElement);
				element.appendChild(artc);
			}
		}

      // document.getElementById("insertHere").outerHTML("box")

      // document.getElementById("insertHere").innerHTML = "I have changed!";

      // document.body.innerHTML = box;
	</script>
</body>

</html>